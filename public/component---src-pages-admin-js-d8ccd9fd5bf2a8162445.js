(window.webpackJsonp=window.webpackJsonp||[]).push([[4],{mR1u:function(e,t,n){"use strict";n.r(t);n("VRzm"),n("Btvt"),n("91GP");var a=n("o0o1"),r=n.n(a),o=(n("ls82"),n("q1tI")),c=n.n(o);n("f3/d");var s=function(e){var t,n;function a(){for(var t,n=arguments.length,a=new Array(n),r=0;r<n;r++)a[r]=arguments[r];return(t=e.call.apply(e,[this].concat(a))||this).state={username:"",email:"",password:""},t.onChange=function(e){var n;t.setState(((n={})[e.target.name]=e.target.value,n))},t}return n=e,(t=a).prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n,a.prototype.render=function(){var e=this;return c.a.createElement("div",null,c.a.createElement("h3",null,"Sign Up"),c.a.createElement("div",{className:"flex flex-1 justify-center"},c.a.createElement("div",{className:"w-full max-w-144"},c.a.createElement("form",{className:"bg-white shadow-md rounded px-8 pt-6 pb-8 mb-4"},c.a.createElement("div",{className:"mb-4"},c.a.createElement("label",{className:"block text-gray-700 text-sm font-bold mb-2",htmlFor:"username"},"Username"),c.a.createElement("input",{onChange:this.onChange,name:"username",className:"shadow appearance-none border rounded w-full py-2 px-3 text-gray-700 leading-tight focus:outline-none focus:shadow-outline",id:"username",type:"text",placeholder:"Username"})),c.a.createElement("div",{className:"mb-6"},c.a.createElement("label",{className:"block text-gray-700 text-sm font-bold mb-2",htmlFor:"email"},"Email"),c.a.createElement("input",{onChange:this.onChange,name:"email",className:"shadow appearance-none border rounded w-full py-2 px-3 text-gray-700 mb-3 leading-tight focus:outline-none focus:shadow-outline",id:"email",placeholder:"Email address"})),c.a.createElement("div",{className:"mb-6"},c.a.createElement("label",{className:"block text-gray-700 text-sm font-bold mb-2",htmlFor:"password"},"Password"),c.a.createElement("input",{onChange:this.onChange,name:"password",className:"shadow appearance-none border rounded w-full py-2 px-3 text-gray-700 mb-3 leading-tight focus:outline-none focus:shadow-outline",id:"password",type:"password",placeholder:"******************"})),c.a.createElement("div",{className:"flex items-center justify-between"},c.a.createElement("button",{onClick:function(){return e.props.signUp(e.state)},className:"bg-secondary hover:bg-black text-white font-bold py-2 px-4 rounded focus:outline-none focus:shadow-outline",type:"button"},"Sign Up"),c.a.createElement("a",{className:"inline-block align-baseline font-bold text-sm",href:"#",onClick:function(){return e.props.toggleFormState("signIn")}},"Already signed up?"))),c.a.createElement("p",{className:"text-center text-gray-500 text-xs"},"©2020 JAMstack ECommerce. All rights reserved."))))},a}(c.a.Component);var l=function(e){var t,n;function a(){for(var t,n=arguments.length,a=new Array(n),r=0;r<n;r++)a[r]=arguments[r];return(t=e.call.apply(e,[this].concat(a))||this).state={username:"",authcode:""},t.onChange=function(e){var n;t.setState(((n={})[e.target.name]=e.target.value,n))},t}return n=e,(t=a).prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n,a.prototype.render=function(){var e=this;return c.a.createElement("div",null,c.a.createElement("h3",null,"Sign Up"),c.a.createElement("div",{className:"flex flex-1 justify-center"},c.a.createElement("div",{className:"w-full max-w-144"},c.a.createElement("form",{className:"bg-white shadow-md rounded px-8 pt-6 pb-8 mb-4"},c.a.createElement("div",{className:"mb-4"},c.a.createElement("label",{className:"block text-gray-700 text-sm font-bold mb-2",htmlFor:"username"},"Username"),c.a.createElement("input",{onChange:this.onChange,name:"username",className:"shadow appearance-none border rounded w-full py-2 px-3 text-gray-700 leading-tight focus:outline-none focus:shadow-outline",id:"username",type:"text",placeholder:"Username"})),c.a.createElement("div",{className:"mb-6"},c.a.createElement("label",{className:"block text-gray-700 text-sm font-bold mb-2",htmlFor:"authcode"},"Authentication Code"),c.a.createElement("input",{onChange:this.onChange,name:"authcode",className:"shadow appearance-none border rounded w-full py-2 px-3 text-gray-700 mb-3 leading-tight focus:outline-none focus:shadow-outline",id:"authcode",type:"authcode"})),c.a.createElement("div",{className:"flex items-center justify-between"},c.a.createElement("button",{onClick:function(){return e.props.confirmSignUp(e.state)},className:"bg-secondary hover:bg-primary text-white font-bold py-2 px-4 rounded focus:outline-none focus:shadow-outline",type:"button"},"Confirm Sign Up"),c.a.createElement("a",{className:"inline-block align-baseline font-bold text-sm",href:"#"},"Forgot Password?"))),c.a.createElement("p",{className:"text-center text-gray-500 text-xs"},"©2020 JAMstack ECommerce. All rights reserved."))))},a}(c.a.Component);n("zDcZ");var i=function(e){var t,n;function a(){for(var t,n=arguments.length,a=new Array(n),r=0;r<n;r++)a[r]=arguments[r];return(t=e.call.apply(e,[this].concat(a))||this).state={username:"",password:""},t.onChange=function(e){var n;t.setState(((n={})[e.target.name]=e.target.value,n))},t}return n=e,(t=a).prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n,a.prototype.render=function(){var e=this;return c.a.createElement("div",null,c.a.createElement("h3",null,"Sign Up"),c.a.createElement("div",{className:"flex flex-1 justify-center"},c.a.createElement("div",{className:"w-full max-w-144"},c.a.createElement("form",{className:"bg-white shadow-md rounded px-8 pt-6 pb-8 mb-4"},c.a.createElement("div",{className:"mb-4"},c.a.createElement("label",{className:"block text-gray-700 text-sm font-bold mb-2",htmlFor:"username"},"Username"),c.a.createElement("input",{onChange:this.onChange,name:"username",className:"shadow appearance-none border rounded w-full py-2 px-3 text-gray-700 leading-tight focus:outline-none focus:shadow-outline",id:"username",type:"text",placeholder:"Username"})),c.a.createElement("div",{className:"mb-6"},c.a.createElement("label",{className:"block text-gray-700 text-sm font-bold mb-2",htmlFor:"password"},"Password"),c.a.createElement("input",{onChange:this.onChange,name:"password",className:"shadow appearance-none border rounded w-full py-2 px-3 text-gray-700 mb-3 leading-tight focus:outline-none focus:shadow-outline",id:"password",type:"password",placeholder:"******************"})),c.a.createElement("div",{className:"flex items-center justify-between"},c.a.createElement("button",{onClick:function(){return e.props.signIn(e.state)},className:"bg-secondary hover:bg-black text-white font-bold py-2 px-4 rounded focus:outline-none focus:shadow-outline",type:"button"},"Sign In"),c.a.createElement("a",{className:"inline-block align-baseline font-bold text-sm",href:"#"},"Forgot Password?"))),c.a.createElement("p",{className:"text-center text-gray-500 text-xs"},"©2020 JAMstack ECommerce. All rights reserved."))))},a}(c.a.Component);function m(e,t,n,a,r,o,c){try{var s=e[o](c),l=s.value}catch(i){return void n(i)}s.done?t(l):Promise.resolve(l).then(a,r)}function u(e){return function(){var t=this,n=arguments;return new Promise((function(a,r){var o=e.apply(t,n);function c(e){m(o,a,r,c,s,"next",e)}function s(e){m(o,a,r,c,s,"throw",e)}c(void 0)}))}}var p={name:"",brand:"",price:"",categories:[],image:"",description:"",currentInventory:""},d=function(e){var t,n;function a(){for(var t,n=arguments.length,a=new Array(n),o=0;o<n;o++)a[o]=arguments[o];return(t=e.call.apply(e,[this].concat(a))||this).state=p,t.clearForm=function(){t.setState((function(){return p}))},t.onChange=function(e){var n;t.setState(((n={})[e.target.name]=e.target.value,n))},t.onImageChange=function(){var e=u(r.a.mark((function e(n){var a;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:a=n.target.files[0],t.setState({image:a});case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),t.addItem=u(r.a.mark((function e(){var n,a,o,c,s,l,i,m;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=t.state,a=n.name,o=n.brand,c=n.price,s=n.categories,l=n.image,i=n.description,m=n.currentInventory,a&&o&&c&&s.length&&i&&m&&l){e.next=3;break}return e.abrupt("return");case 3:t.clearForm();case 4:case"end":return e.stop()}}),e)}))),t}return n=e,(t=a).prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n,a.prototype.render=function(){var e=this,t=this.state,n=t.name,a=t.brand,r=t.price,o=t.categories,s=(t.image,t.description),l=t.currentInventory;return c.a.createElement("div",null,c.a.createElement("h3",null,"Add Item"),c.a.createElement("div",{className:"flex flex-1 justify-center"},c.a.createElement("div",{className:"w-full max-w-144"},c.a.createElement("form",{className:"bg-white shadow-xs rounded px-8 pt-6 pb-8 mb-4"},c.a.createElement("div",{className:"mb-4"},c.a.createElement("label",{className:"block text-gray-700 text-sm font-bold mb-2",htmlFor:"name"},"Item name"),c.a.createElement("input",{onChange:this.onChange,value:n,className:"shadow appearance-none border rounded w-full py-2 px-3 text-gray-700 leading-tight focus:outline-none focus:shadow-outline",id:"name",type:"text",placeholder:"Item name",name:"name"})),c.a.createElement("div",{className:"mb-4"},c.a.createElement("label",{className:"block text-gray-700 text-sm font-bold mb-2",htmlFor:"price"},"Item price"),c.a.createElement("input",{onChange:this.onChange,value:r,className:"shadow appearance-none border rounded w-full py-2 px-3 text-gray-700 leading-tight focus:outline-none focus:shadow-outline",id:"price",type:"text",placeholder:"Item price",name:"price"})),c.a.createElement("div",{className:"mb-4"},c.a.createElement("label",{className:"block text-gray-700 text-sm font-bold mb-2",htmlFor:"description"},"Item Description"),c.a.createElement("input",{onChange:this.onChange,value:s,className:"shadow appearance-none border rounded w-full py-2 px-3 text-gray-700 mb-3 leading-tight focus:outline-none focus:shadow-outline",id:"description",placeholder:"Item Description",name:"description"})),c.a.createElement("div",{className:"mb-4"},c.a.createElement("label",{className:"block text-gray-700 text-sm font-bold mb-2",htmlFor:"item image"},"Item image"),c.a.createElement("input",{type:"file",onChange:function(t){return e.onImageChange(t)}})),c.a.createElement("div",{className:"mb-4"},c.a.createElement("label",{className:"block text-gray-700 text-sm font-bold mb-2",htmlFor:"currentInventory"},"In stock"),c.a.createElement("input",{onChange:this.onChange,value:l,className:"shadow appearance-none border rounded w-full py-2 px-3 text-gray-700 mb-3 leading-tight focus:outline-none focus:shadow-outline",id:"currentInventory",placeholder:"Items in stock",name:"currentInventory"})),c.a.createElement("div",{className:"mb-4"},c.a.createElement("label",{className:"block text-gray-700 text-sm font-bold mb-2",htmlFor:"categories"},"Item categories"),c.a.createElement("input",{onChange:this.onChange,value:o,className:"shadow appearance-none border rounded w-full py-2 px-3 text-gray-700 mb-3 leading-tight focus:outline-none focus:shadow-outline",id:"categories",placeholder:"Comma separated list of item categories",name:"categories"})),c.a.createElement("div",{className:"mb-4"},c.a.createElement("label",{className:"block text-gray-700 text-sm font-bold mb-2",htmlFor:"brand"},"Item brand"),c.a.createElement("input",{onChange:this.onChange,value:a,className:"shadow appearance-none border rounded w-full py-2 px-3 text-gray-700 mb-3 leading-tight focus:outline-none focus:shadow-outline",id:"brand",placeholder:"Item brand",name:"brand"})),c.a.createElement("div",{className:"flex items-center justify-between mt-4"},c.a.createElement("button",{onClick:this.addItem,className:"bg-secondary hover:bg-black text-white font-bold py-2 px-4 rounded focus:outline-none focus:shadow-outline",type:"button"},"Add Item"),c.a.createElement("a",{onClick:this.clearForm,className:"inline-block align-baseline font-bold text-sm",href:"#"},"Clear Form"))),c.a.createElement("p",{className:"text-center text-gray-500 text-xs"},"©2020 JAMstack ECommerce. All rights reserved."))))},a}(c.a.Component),f=(n("XfO3"),n("HEwt"),n("a1Th"),n("rE2o"),n("ioFf"),n("rGqo"),n("XCaG")),h=n("5Epl"),g=n("Wbzz"),b=n("IF/j"),v=n("ma3e");function y(e){return function(e){if(Array.isArray(e)){for(var t=0,n=new Array(e.length);t<e.length;t++)n[t]=e[t];return n}}(e)||function(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}function x(e,t,n,a,r,o,c){try{var s=e[o](c),l=s.value}catch(i){return void n(i)}s.done?t(l):Promise.resolve(l).then(a,r)}function w(e){return function(){var t=this,n=arguments;return new Promise((function(a,r){var o=e.apply(t,n);function c(e){x(o,a,r,c,s,"next",e)}function s(e){x(o,a,r,c,s,"throw",e)}c(void 0)}))}}var E=function(e){var t,n;function a(){for(var t,n=arguments.length,a=new Array(n),o=0;o<n;o++)a[o]=arguments[o];return(t=e.call.apply(e,[this].concat(a))||this).state={inventory:[],currentItem:{},editingIndex:[]},t.fetchInventory=w(r.a.mark((function e(){var n;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(f.b)();case 2:n=e.sent,t.setState({inventory:n});case 4:case"end":return e.stop()}}),e)}))),t.editItem=function(e,n){var a=n;t.setState({editingIndex:a,currentItem:e})},t.saveItem=function(){var e=w(r.a.mark((function e(n){var a;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:(a=y(t.state.inventory))[n]=t.state.currentItem,t.setState({editingIndex:null,inventory:a});case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),t.deleteItem=function(){var e=w(r.a.mark((function e(n){var a;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:a=[].concat(y(t.state.inventory.slice(0,n)),y(t.state.inventory.slice(n+1))),t.setState({inventory:a});case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),t.onChange=function(e){var n,a=Object.assign({},t.state.currentItem,((n={})[e.target.name]=e.target.value,n));t.setState({currentItem:a})},t}n=e,(t=a).prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n;var o=a.prototype;return o.componentDidMount=function(){this.fetchInventory()},o.render=function(){var e=this,t=this.state,n=t.inventory,a=t.currentItem,r=t.editingIndex;return console.log("currentItem: ",a),c.a.createElement("div",null,c.a.createElement("h2",null,"Inventory"),n.map((function(t,n){return r===n?c.a.createElement("div",{className:"border-b py-10",key:t.id},c.a.createElement("div",{className:"flex items-center"},c.a.createElement(g.Link,{to:Object(b.b)(t.name)},c.a.createElement(h.a,{className:"w-32 m-0",src:t.image,alt:t.name})),c.a.createElement("input",{onChange:function(t){return e.onChange(t,n)},className:"ml-8 shadow appearance-none border rounded py-2 px-3 text-gray-700 leading-tight focus:outline-none focus:shadow-outline",value:a.name,placeholder:"Item name",name:"name"}),c.a.createElement("div",{className:"flex flex-1 justify-end items-center"},c.a.createElement("p",{className:"m-0 text-sm mr-2"},"In stock:"),c.a.createElement("input",{onChange:e.onChange,className:"shadow appearance-none border rounded py-2 px-3 text-gray-700 leading-tight focus:outline-none focus:shadow-outline",value:a.currentInventory,name:"currentInventory",placeholder:"Item inventory"}),c.a.createElement("input",{onChange:e.onChange,className:"ml-16 shadow appearance-none border rounded py-2 px-3 text-gray-700 leading-tight focus:outline-none focus:shadow-outline",value:a.price,name:"price",placeholder:"Item price"})),c.a.createElement("div",{role:"button",onClick:function(){return e.saveItem(n)},className:"m-0 ml-10 text-gray-900 text-s cursor-pointer"},c.a.createElement("p",{className:"text-sm ml-10 m-0"},"Save")))):c.a.createElement("div",{className:"border-b py-10",key:t.id},c.a.createElement("div",{className:"flex items-center"},c.a.createElement(g.Link,{to:Object(b.b)(t.name)},c.a.createElement(h.a,{className:"w-32 m-0",src:t.image,alt:t.name})),c.a.createElement(g.Link,{to:Object(b.b)(t.name)},c.a.createElement("p",{className:"m-0 pl-10 text-gray-600 text-sm"},t.name)),c.a.createElement("div",{className:"flex flex-1 justify-end"},c.a.createElement("p",{className:"m-0 pl-10 text-gray-900 tracking-tighter text-sm"},"In stock: ",t.currentInventory),c.a.createElement("p",{className:"m-0 pl-20 text-gray-900 tracking-tighter font-semibold"},f.a+t.price)),c.a.createElement("div",{className:"flex items-center m-0 ml-10 text-gray-900 text-s cursor-pointer"},c.a.createElement(v.e,{onClick:function(){return e.deleteItem(n)}}),c.a.createElement("p",{role:"button",onClick:function(){return e.editItem(t,n)},className:"text-sm ml-10 m-0"},"Edit"))))})))},a}(c.a.Component);var N=function(e){var t,n;function a(){for(var t,n=arguments.length,a=new Array(n),r=0;r<n;r++)a[r]=arguments[r];return(t=e.call.apply(e,[this].concat(a))||this).state={viewState:"view"},t}n=e,(t=a).prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n;var r=a.prototype;return r.toggleViewState=function(e){this.setState((function(){return{viewState:e}}))},r.render=function(){var e=this;return c.a.createElement("div",null,c.a.createElement("h3",null,"Inventory"),c.a.createElement("div",{className:"flex"},c.a.createElement("p",{role:"button",className:"mr-4 cursor-pointer hover:text-secondary",onClick:function(){return e.toggleViewState("view")}},"View"),c.a.createElement("p",{role:"button",className:"cursor-pointer hover:text-secondary",onClick:function(){return e.toggleViewState("add")}},"Add")),"view"===this.state.viewState?c.a.createElement(E,null):c.a.createElement(d,null),c.a.createElement("button",{onClick:this.props.signOut,className:"bg-secondary hover:bg-black text-white font-bold py-2 px-4 rounded focus:outline-none focus:shadow-outline",type:"button"},"Sign Out"))},a}(c.a.Component);function C(e,t,n,a,r,o,c){try{var s=e[o](c),l=s.value}catch(i){return void n(i)}s.done?t(l):Promise.resolve(l).then(a,r)}function I(e){return function(){var t=this,n=arguments;return new Promise((function(a,r){var o=e.apply(t,n);function c(e){C(o,a,r,c,s,"next",e)}function s(e){C(o,a,r,c,s,"throw",e)}c(void 0)}))}}var k=function(e){var t,n;function a(){for(var t,n=arguments.length,a=new Array(n),o=0;o<n;o++)a[o]=arguments[o];return(t=e.call.apply(e,[this].concat(a))||this).state={formState:"signUp",isAdmin:!1},t.toggleFormState=function(e){t.setState((function(){return{formState:e}}))},t.signUp=function(){var e=I(r.a.mark((function e(n){return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n.username,n.email,n.password,t.setState({formState:"confirmSignUp"});case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),t.confirmSignUp=function(){var e=I(r.a.mark((function e(n){return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n.username,n.authcode,t.setState({formState:"signIn"});case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),t.signIn=function(){var e=I(r.a.mark((function e(n){return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n.username,n.password,t.setState({formState:"signedIn",isAdmin:!0});case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),t.signOut=I(r.a.mark((function e(){return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t.setState({formState:"signUp"});case 1:case"end":return e.stop()}}),e)}))),t}n=e,(t=a).prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n;var o=a.prototype;return o.componentDidMount=function(){var e=I(r.a.mark((function e(){return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),o.render=function(){var e=this,t=this.state,n=t.formState,a=t.isAdmin;return c.a.createElement("div",{className:"flex flex-col"},c.a.createElement("div",{className:"max-w-fw flex flex-col"},c.a.createElement("div",{className:"pt-10"},c.a.createElement("h1",{className:"text-5xl font-light"},"Admin Panel")),function(t,n){switch(t){case"signUp":return c.a.createElement(s,Object.assign({},n,{signUp:e.signUp,toggleFormState:e.toggleFormState}));case"confirmSignUp":return c.a.createElement(l,Object.assign({},n,{confirmSignUp:e.confirmSignUp}));case"signIn":return c.a.createElement(i,Object.assign({},n,{signIn:e.signIn,toggleFormState:e.toggleFormState}));case"signedIn":return a?c.a.createElement(N,Object.assign({},n,{signOut:e.signOut})):c.a.createElement("h3",null,"Not an admin");default:return null}}(n)))},a}(c.a.Component);t.default=k}}]);
//# sourceMappingURL=component---src-pages-admin-js-d8ccd9fd5bf2a8162445.js.map