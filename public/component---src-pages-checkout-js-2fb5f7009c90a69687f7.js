(window.webpackJsonp=window.webpackJsonp||[]).push([[9],{R48M:function(e,t,n){var r=n("P8UN");r(r.S+r.F*!n("QPJK"),"Object",{defineProperty:n("rjfK").f})},UxAK:function(e,t,n){"use strict";n.r(t);n("6kNP"),n("8npG"),n("YBKJ");var r=n("o0o1"),a=n.n(r),o=(n("ls82"),n("pJf4"),n("E5k/"),n("q1tI")),c=n.n(o),l=n("9E3W"),s=n("XCaG"),i=n("ma3e"),u=n("Wbzz"),p=n("5Epl"),m=n("xk4V"),f=n.n(m),d=n("eWwy"),y=n("v4r+");function v(e,t,n,r,a,o,c){try{var l=e[o](c),s=l.value}catch(i){return void n(i)}l.done?t(s):Promise.resolve(s).then(r,a)}var h=Object(y.a)("pk_test_DvXwcKnVaaZUpWJIbh9cjgZr00IjIAjZAA");var b=function(e){var t=e.onChange,n=e.value,r=e.name,a=e.placeholder;return c.a.createElement("input",{onChange:t,value:n,className:"mt-2 text-sm shadow appearance-none border rounded w-full py-2 px-3 text-gray-700 leading-tight focus:outline-none focus:shadow-outline",type:"text",placeholder:a,name:r})},E=function(e){var t,n,r=e.context,l=Object(o.useState)(null),m=l[0],y=l[1],h=Object(o.useState)(!1),E=h[0],g=h[1],x=Object(o.useState)({name:"",email:"",street:"",city:"",postal_code:"",state:""}),w=x[0],j=x[1],N=Object(d.useStripe)(),C=Object(d.useElements)(),S=function(e){var t;y(null),j(Object.assign(Object.assign({},w),{},((t={})[e.target.name]=e.target.value,t)))},k=function(){var e,t=(e=a.a.mark((function e(t){var n,o,c,l,s,i,u,p,m,v,h,b,E;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.preventDefault(),n=w.name,o=w.email,c=w.street,l=w.city,s=w.postal_code,i=w.state,u=r.total,p=r.clearCart,N&&C){e.next=5;break}return e.abrupt("return");case 5:if(c&&l&&s&&i){e.next=8;break}return y("Please fill in the form!"),e.abrupt("return");case 8:return m=C.getElement(d.CardElement),e.next=11,N.createPaymentMethod({type:"card",card:m,billing_details:{name:n}});case 11:if(v=e.sent,h=v.error,b=v.paymentMethod,!h){e.next=17;break}return y(h.message),e.abrupt("return");case 17:E={email:o,amount:u,address:i,payment_method_id:b.id,receipt_email:"customer@example.com",id:f()()},console.log("order: ",E),g(!0),p();case 21:case"end":return e.stop()}}),e)})),function(){var t=this,n=arguments;return new Promise((function(r,a){var o=e.apply(t,n);function c(e){v(o,r,a,c,l,"next",e)}function l(e){v(o,r,a,c,l,"throw",e)}c(void 0)}))});return function(e){return t.apply(this,arguments)}}(),O=r.numberOfItemsInCart,P=r.cart,_=r.total,R=O===Number(0);return E?c.a.createElement("div",null,c.a.createElement("h3",null,"Thanks! Your order has been successfully processed.")):c.a.createElement("div",{className:"flex flex-col items-center pb-10"},c.a.createElement("div",{className:" flex flex-col w-full c_large:w-c_large "},c.a.createElement("div",{className:"pt-10 pb-8"},c.a.createElement("h1",{className:"text-5xl font-light"},"Checkout"),c.a.createElement(u.Link,{to:"/cart"},c.a.createElement("div",{className:"cursor-pointer flex"},c.a.createElement(i.b,{className:"mr-2 text-gray-600 mt-1"}),c.a.createElement("p",{className:"text-gray-600 text-sm"},"Edit Cart")))),R?c.a.createElement("h3",null,"No items in cart."):c.a.createElement("div",{className:"flex flex-col"},c.a.createElement("div",{className:""},P.map((function(e,t){return c.a.createElement("div",{className:"border-b py-10",key:t},c.a.createElement("div",{className:"flex items-center"},c.a.createElement(p.a,{className:"w-32 m-0",src:e.image,alt:e.name}),c.a.createElement("p",{className:"m-0 pl-10 text-gray-600 text-sm"},e.name),c.a.createElement("div",{className:"flex flex-1 justify-end"},c.a.createElement("p",{className:"m-0 pl-10 text-gray-900 tracking-tighter font-semibold"},s.a+e.price))))}))),c.a.createElement("div",{className:"flex flex-1 flex-col md:flex-row"},c.a.createElement("div",{className:"flex flex-1 pt-8 flex-col"},c.a.createElement("div",{className:"mt-4 border-t pt-10"},c.a.createElement("form",{onSubmit:k},m?c.a.createElement("span",null,m):"",c.a.createElement(b,{onChange:S,value:w.name,name:"name",placeholder:"Cardholder name"}),c.a.createElement(d.CardElement,{className:"mt-2 shadow appearance-none border rounded w-full py-2 px-3 text-gray-700 leading-tight focus:outline-none focus:shadow-outline"}),c.a.createElement(b,{onChange:S,value:w.email,name:"email",placeholder:"Email"}),c.a.createElement(b,{onChange:S,value:w.street,name:"street",placeholder:"Street"}),c.a.createElement(b,{onChange:S,value:w.city,name:"city",placeholder:"City"}),c.a.createElement(b,{onChange:S,value:w.state,name:"state",placeholder:"State"}),c.a.createElement(b,{onChange:S,value:w.postal_code,name:"postal_code",placeholder:"Postal Code"}),c.a.createElement("button",((t={type:"submit",disabled:!N,onClick:k,className:"hidden md:block bg-secondary hover:bg-black text-white font-bold py-2 px-4 mt-4 rounded focus:outline-none focus:shadow-outline"}).type="button",t),"Confirm order")))),c.a.createElement("div",{className:"md:pt-20"},c.a.createElement("div",{className:"ml-4 pl-2 flex flex-1 justify-end pt-2 md:pt-8 pr-4"},c.a.createElement("p",{className:"text-sm pr-10"},"Subtotal"),c.a.createElement("p",{className:"tracking-tighter w-38 flex justify-end"},s.a+_)),c.a.createElement("div",{className:"ml-4 pl-2 flex flex-1 justify-end pr-4"},c.a.createElement("p",{className:"text-sm pr-10"},"Shipping"),c.a.createElement("p",{className:"tracking-tighter w-38 flex justify-end"},"FREE SHIPPING")),c.a.createElement("div",{className:"md:ml-4 pl-2 flex flex-1 justify-end bg-gray-200 pr-4 pt-6"},c.a.createElement("p",{className:"text-sm pr-10"},"Total"),c.a.createElement("p",{className:"font-semibold tracking-tighter w-38 flex justify-end"},s.a+(_+0))),c.a.createElement("button",((n={type:"submit",disabled:!N,onClick:k,className:"md:hidden bg-secondary hover:bg-black text-white font-bold py-2 px-4 mt-4 rounded focus:outline-none focus:shadow-outline"}).type="button",n),"Confirm order"))))))};t.default=function(e){return c.a.createElement(l.a,null,c.a.createElement(l.b.Consumer,null,(function(t){return c.a.createElement(d.Elements,{stripe:h},c.a.createElement(E,Object.assign({},e,{context:t})))})))}},eWwy:function(e,t,n){n("R48M"),n("6kNP"),n("pJf4"),n("q8oJ"),n("C9fy"),n("MIFh"),n("sc67"),n("rzGZ"),n("Dq+y"),n("8npG"),n("Ggvi"),n("m210"),n("4DPX"),function(e,t){"use strict";function n(e){return(n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function r(e,t){if(null==e)return{};var n,r,a=function(e,t){if(null==e)return{};var n,r,a={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(a[n]=e[n]);return a}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}function a(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e)){var n=[],r=!0,a=!1,o=void 0;try{for(var c,l=e[Symbol.iterator]();!(r=(c=l.next()).done)&&(n.push(c.value),!t||n.length!==t);r=!0);}catch(s){a=!0,o=s}finally{try{r||null==l.return||l.return()}finally{if(a)throw o}}return n}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}function o(){}function c(){}t=t&&t.hasOwnProperty("default")?t.default:t,c.resetWarningCache=o;var l=function(e,t){return e(t={exports:{}},t.exports),t.exports}((function(e){e.exports=function(){function e(e,t,n,r,a,o){if("SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED"!==o){var c=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw c.name="Invariant Violation",c}}function t(){return e}e.isRequired=e;var n={array:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,elementType:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t,checkPropTypes:c,resetWarningCache:o};return n.PropTypes=n,n}()})),s=function(e){return null!==e&&"object"===n(e)},i=function e(t,n){if(!s(t)||!s(n))return t===n;var r=Array.isArray(t);if(r!==Array.isArray(n))return!1;var a="[object Object]"===Object.prototype.toString.call(t);if(a!==("[object Object]"===Object.prototype.toString.call(n)))return!1;if(!a&&!r)return!1;var o=Object.keys(t),c=Object.keys(n);if(o.length!==c.length)return!1;for(var l={},i=0;i<o.length;i+=1)l[o[i]]=!0;for(var u=0;u<c.length;u+=1)l[c[u]]=!0;var p=Object.keys(l);if(p.length!==o.length)return!1;var m=t,f=n;return p.every((function(t){return e(m[t],f[t])}))},u=function(e){var n=t.useRef(e);return t.useEffect((function(){n.current=e}),[e]),n.current},p=function(e){if(null===e||s(t=e)&&"function"==typeof t.elements&&"function"==typeof t.createToken&&"function"==typeof t.createPaymentMethod&&"function"==typeof t.confirmCardPayment)return e;var t;throw new Error("Invalid prop `stripe` supplied to `Elements`. We recommend using the `loadStripe` utility from `@stripe/stripe-js`. See https://stripe.com/docs/stripe-js/react#elements-props-stripe for details.")},m=function(e){if(function(e){return s(e)&&"function"==typeof e.then}(e))return{tag:"async",stripePromise:Promise.resolve(e).then(p)};var t=p(e);return null===t?{tag:"empty"}:{tag:"sync",stripe:t}},f=t.createContext(null);f.displayName="ElementsContext";var d=function(e){var n=e.stripe,r=e.options,o=e.children,c=t.useRef(!1),l=t.useRef(!0),s=t.useMemo((function(){return m(n)}),[n]),p=a(t.useState((function(){return{stripe:null,elements:null}})),2),d=p[0],y=p[1],v=u(n),h=u(r);return null!==v&&(v!==n&&console.warn("Unsupported prop change on Elements: You cannot change the `stripe` prop after setting it."),i(r,h)||console.warn("Unsupported prop change on Elements: You cannot change the `options` prop after setting the `stripe` prop.")),c.current||("sync"===s.tag&&(c.current=!0,y({stripe:s.stripe,elements:s.stripe.elements(r)})),"async"===s.tag&&(c.current=!0,s.stripePromise.then((function(e){e&&l.current&&y({stripe:e,elements:e.elements(r)})})))),t.useEffect((function(){return function(){l.current=!1}}),[]),t.useEffect((function(){var e=d.stripe;e&&e._registerWrapper&&e._registerWrapper({name:"react-stripe-js",version:"1.1.2"})}),[d.stripe]),t.createElement(f.Provider,{value:d},o)};d.propTypes={stripe:l.any,options:l.object};var y=function(e){return function(e,t){if(!e)throw new Error("Could not find Elements context; You need to wrap the part of your app that ".concat(t," in an <Elements> provider."));return e}(t.useContext(f),e)},v=function(e){return(0,e.children)(y("mounts <ElementsConsumer>"))};v.propTypes={children:l.func.isRequired};var h=function(e){var n=t.useRef(e);return t.useEffect((function(){n.current=e}),[e]),function(){n.current&&n.current.apply(n,arguments)}},b=function(e){return s(e)?(e.paymentRequest,r(e,["paymentRequest"])):{}},E=function(){},g=function(e,n){var r,a="".concat((r=e).charAt(0).toUpperCase()+r.slice(1),"Element"),o=n?function(e){y("mounts <".concat(a,">"));var n=e.id,r=e.className;return t.createElement("div",{id:n,className:r})}:function(n){var r=n.id,o=n.className,c=n.options,l=void 0===c?{}:c,s=n.onBlur,u=void 0===s?E:s,p=n.onFocus,m=void 0===p?E:p,f=n.onReady,d=void 0===f?E:f,v=n.onChange,g=void 0===v?E:v,x=n.onEscape,w=void 0===x?E:x,j=n.onClick,N=void 0===j?E:j,C=y("mounts <".concat(a,">")).elements,S=t.useRef(null),k=t.useRef(null),O=h(d),P=h(u),_=h(m),R=h(N),A=h(g),I=h(w);t.useLayoutEffect((function(){if(null==S.current&&C&&null!=k.current){var t=C.create(e,l);S.current=t,t.mount(k.current),t.on("ready",(function(){return O(t)})),t.on("change",A),t.on("blur",P),t.on("focus",_),t.on("escape",I),t.on("click",R)}}));var T=t.useRef(l);return t.useEffect((function(){T.current&&T.current.paymentRequest!==l.paymentRequest&&console.warn("Unsupported prop change: options.paymentRequest is not a customizable property.");var e=b(l);0===Object.keys(e).length||i(e,b(T.current))||S.current&&(S.current.update(e),T.current=l)}),[l]),t.useEffect((function(){return function(){S.current&&S.current.destroy()}}),[]),t.createElement("div",{id:r,className:o,ref:k})};return o.propTypes={id:l.string,className:l.string,onChange:l.func,onBlur:l.func,onFocus:l.func,onReady:l.func,onClick:l.func,options:l.object},o.displayName=a,o.__elementType=e,o},x="undefined"==typeof window,w=g("auBankAccount",x),j=g("card",x),N=g("cardNumber",x),C=g("cardExpiry",x),S=g("cardCvc",x),k=g("fpxBank",x),O=g("iban",x),P=g("idealBank",x),_=g("paymentRequestButton",x);e.AuBankAccountElement=w,e.CardCvcElement=S,e.CardElement=j,e.CardExpiryElement=C,e.CardNumberElement=N,e.Elements=d,e.ElementsConsumer=v,e.FpxBankElement=k,e.IbanElement=O,e.IdealBankElement=P,e.PaymentRequestButtonElement=_,e.useElements=function(){return y("calls useElements()").elements},e.useStripe=function(){return y("calls useStripe()").stripe},Object.defineProperty(e,"__esModule",{value:!0})}(t,n("q1tI"))},"v4r+":function(e,t,n){"use strict";n.d(t,"a",(function(){return m}));n("6kNP"),n("YbXK"),n("cFtU"),n("q8oJ"),n("C9fy"),n("8npG"),n("m210"),n("4DPX"),n("rzGZ"),n("MIFh");function r(e){return function(e){if(Array.isArray(e)){for(var t=0,n=new Array(e.length);t<e.length;t++)n[t]=e[t];return n}}(e)||function(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}var a="https://js.stripe.com/v3",o=/^https:\/\/js\.stripe\.com\/v3\/?(\?.*)?$/,c="loadStripe.setLoadParameters was called but an existing Stripe.js script already exists in the document; existing script parameters will be used",l=null,s=function(e){return null!==l?l:l=new Promise((function(t,n){if("undefined"!=typeof window)if(window.Stripe&&e&&console.warn(c),window.Stripe)t(window.Stripe);else try{var r=function(){for(var e=document.querySelectorAll('script[src^="'.concat(a,'"]')),t=0;t<e.length;t++){var n=e[t];if(o.test(n.src))return n}return null}();r&&e?console.warn(c):r||(r=function(e){var t=e&&!e.advancedFraudSignals?"?advancedFraudSignals=false":"",n=document.createElement("script");n.src="".concat(a).concat(t);var r=document.head||document.body;if(!r)throw new Error("Expected document.body not to be null. Stripe.js requires a <body> element.");return r.appendChild(n),n}(e)),r.addEventListener("load",(function(){window.Stripe?t(window.Stripe):n(new Error("Stripe.js not available"))})),r.addEventListener("error",(function(){n(new Error("Failed to load Stripe.js"))}))}catch(l){return void n(l)}else t(null)}))},i=function(e,t){if(null===e)return null;var n=e.apply(void 0,r(t));return function(e){e&&e._registerWrapper&&e._registerWrapper({name:"stripe-js",version:"1.5.0"})}(n),n},u=Promise.resolve().then((function(){return s(null)})),p=!1;u.catch((function(e){p||console.warn(e)}));var m=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return p=!0,u.then((function(e){return i(e,t)}))}}}]);
//# sourceMappingURL=component---src-pages-checkout-js-2fb5f7009c90a69687f7.js.map